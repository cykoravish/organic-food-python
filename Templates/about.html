{% extends 'base.html' %}
{% load static %}
{% block content %}
  <!-- About Us Section Header -->
  <div style="text-align: left;">
    <h1 style="color:rgba(187, 194, 189, 0.73) text-align: center">üåç About Us</h1>
    <p style="color:rgba(225, 231, 227, 0.62);">We are dedicated to providing the freshest <span style="color: #ff6600;">organic fruits</span> and <span style="color: #0088cc;">vegetables</span>, grown with sustainable practices. Our mission is to promote healthy living by delivering high-quality, chemical-free produce directly from our farms to your table.</p>
    
    <h2 style="color:rgb(234, 243, 245);">üå± Why Choose Us?</h2>
    <ul>
      <li style="color:rgb(223, 192, 195);">100% Organic & Pesticide-Free</li>
      <li style="color:rgb(238, 226, 216);">Freshly Harvested & Locally Sourced</li>
      <li style="color:rgb(238, 233, 245);">Eco-Friendly & Sustainable Farming</li>
      <li style="color:rgb(241, 235, 238);">Supporting Local Farmers & Communities</li>
    </ul>
  </div>
{% endblock %}


{% block body %}


<section>
  <div class="container-xxl py-5" style="background-color: rgb(206, 218, 228);">
    <div class="container">
      <div class="row g-5 align-items-center">
        <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s">
          <div class="about-img position-relative overflow-hidden p-5 pe-0">
            <img class="img-fluid w-100 rounded shadow" src="{% static 'assets/img/about.jpg.jpg' %}" alt="Organic Fruits and Vegetables">
          </div>
        </div>
        <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
          <h1 class="display-4 mb-4 text-success" style="font-size: 3rem;">Fresh & Organic Fruits and Vegetables</h1>
          <p class="mb-4 text-muted" style="font-size: 1.2rem;">
            At <strong>Organic Hub</strong>, we believe in providing the highest quality organic products that promote better health and a cleaner environment. Our fruits and vegetables are grown without harmful pesticides or chemicals, ensuring that every bite is packed with nutrition and flavor.
          </p>
          <p class="text-muted" style="font-size: 1.2rem;">
            We work closely with trusted local farmers to bring you fresh, seasonal, and sustainably sourced produce. Our range of organic fruits and vegetables are perfect for those who care about their health, the planet, and supporting ethical farming practices.
          </p>
          <p style="font-size: 1.1rem;"><i class="fa fa-check text-primary me-3"></i> 100% Organic and Pesticide-Free</p>
          <p style="font-size: 1.1rem;"><i class="fa fa-check text-primary me-3"></i> Locally Grown, Freshly Delivered</p>
          <p style="font-size: 1.1rem;"><i class="fa fa-check text-primary me-3"></i> Grown with Sustainable Practices</p>
          <p style="font-size: 1.1rem;"><i class="fa fa-check text-primary me-3"></i> Packed with Nutrients and Flavor</p>
        </div>
      </div>
    </div>
  </div>
</section>




<!-- About Us Section -->
<!-- About Us Section -->
<section id="about" class="about section" style="background:rgba(5, 10, 8, 0.69); padding: 60px 0;">
  <div class="container" data-aos="fade-up">

    <!-- Section Header -->
    <div class="text-center mb-5">
      <h1 class="fw-bold" style="color: #28a745; font-size: 2.2rem;">üåø About Us - Organic Hub</h1>
      <h6 style="color:rgb(217, 235, 175); font-size: 1.2rem;">Nurturing a healthier future with 100% organic and sustainable products.</h6>
    </div>

    <!-- Content Column -->
    <div class="col-lg-10 mx-auto">
      <h2 class="fw-bold" style="color:rgb(84, 192, 110); font-size: 1.8rem;">Welcome to Organic Hub ‚Äì Your Gateway to Healthy Living</h2>
      <h5 style="color: #dceeff; font-size: 1.3rem;">
        At <strong>Organic Hub</strong>, we are committed to bringing you fresh, organic, and chemical-free products directly from trusted farmers. 
        Our mission is to promote a healthier lifestyle by providing natural, unprocessed, and high-quality groceries that you can rely on.
      </h5>
      
      <p style="color: #f8f9fa; font-size: 1.1rem;">
        We believe that making the right food choices should be simple and stress-free. That‚Äôs why we offer a carefully curated selection of farm-fresh fruits, vegetables, and eco-friendly packaged goods‚Äîensuring you and your family get the best nature has to offer.
      </p>

      <h3 class="fw-bold" style="color: #007bff; font-size: 1.6rem;">Why Choose Organic Hub?</h3>
      <ul class="list-unstyled">
        <li style="color: #f8f9fa; font-size: 1.1rem;">
          <i class="bi bi-check-circle-fill" style="color: #28a745;"></i> <strong>100% Organic & Chemical-Free:</strong> We guarantee pure, natural, and pesticide-free products.
        </li>
        <li style="color: #f8f9fa; font-size: 1.1rem;">
          <i class="bi bi-check-circle-fill" style="color: #28a745;"></i> <strong>Farm-Fresh & Locally Sourced:</strong> Supporting local farmers while ensuring peak freshness.
        </li>
        <li style="color: #f8f9fa; font-size: 1.1rem;">
          <i class="bi bi-check-circle-fill" style="color: #28a745;"></i> <strong>Sustainable & Eco-Friendly:</strong> Our packaging is designed to reduce waste and promote sustainability.
        </li>
        <li style="color: #f8f9fa; font-size: 1.1rem;">
          <i class="bi bi-check-circle-fill" style="color: #28a745;"></i> <strong>Quick & Hassle-Free Delivery:</strong> Enjoy seamless home delivery, bringing freshness right to your doorstep.
        </li>
        <li style="color:rgb(223, 235, 247); font-size: 1.1rem;">
          <i class="bi bi-check-circle-fill" style="color: #28a745;"></i> <strong>Healthier You, Healthier Planet:</strong> Choosing organic means making a positive impact on both your well-being and the environment.
        </li>
      </ul>

      <p class="mt-3" style="color: #dceeff; font-size: 1.2rem;">
        <strong>Organic Hub</strong> is more than just a grocery store‚Äîit‚Äôs a movement towards a healthier and more sustainable future. Every purchase you make supports ethical sourcing and a greener planet.  
        Join us on this journey and embrace a lifestyle filled with fresh, wholesome goodness! üåçüíö
      </p>

      <div class="text-center mt-4">
        <a href="/products" class="btn" style="background: #28a745; color: white; width: 130px; padding: 8px 12px; font-size: 1rem; border-radius: 5px;">Explore</a>
      </div>
    </div>

  </div>
</section>



<!-- About Image Section -->

<script>

  // Load the cart from local storage
  // Load cart from localStorage
  function loadCart() {
    return (JSON.parse(localStorage.getItem('cart')) || []).filter(item => item !== null);
  }
  
  // Save the cart to localStorage
  function saveCart(cart) {
    localStorage.setItem('cart', JSON.stringify(cart.filter(item => item !== null)));
  }
  
  // Get total price of cart items
  function getCartTotal() {
    return loadCart().reduce((total, item) => total + (item.price * item.quantity), 0).toFixed(2);
  }
  
  // Get total number of items in cart
  function getCartLength() {
    return loadCart().reduce((total, item) => total + (item.quantity || 0), 0);
  }
  
  function addToCart(id) {
    let cart = loadCart();
    let cartBtn = document.querySelector(`.cart[data-id='${id}']`);
    
    if (!cartBtn) return;
  
    let productName = cartBtn.getAttribute('data-name');
    let productPrice = parseFloat(cartBtn.getAttribute('data-price'));
    let productImage = cartBtn.getAttribute('data-image');
  
    let item = cart.find(item => String(item.id) === String(id));
  
    if (item) {
        item.quantity += 1;
    } else {
        cart.push({ id, name: productName, price: productPrice, image: productImage, quantity: 1 });
    }
  
    saveCart(cart);
    updateCartCount();
    refreshCartPopover();
  }
  
  
  // Increase or decrease quantity function
  function updateCartQuantity(itemId, action) {
    let cart = loadCart();
    let item = cart.find(p => String(p.id) === String(itemId));
  
    if (item) {
        if (action === 'increase') {
            item.quantity += 1;
        } else if (action === 'decrease') {
            if (item.quantity > 1) {
                item.quantity -= 1;
            } else {
                removeItemFromCart(itemId);
                return;
            }
        }
  
        saveCart(cart);
  
        let quantityInput = document.getElementById(`cart-qty-${itemId}`);
        if (quantityInput) {
            quantityInput.value = item.quantity;
        }
  
        // ‚úÖ Update cart UI
        updateCartCount();
        refreshCartPopover();
    }
  }
  
  // Remove item from cart
  function removeItemFromCart(itemId) {
    let cart = loadCart();
    cart = cart.filter(item => String(item.id) !== String(itemId));
    saveCart(cart);
  
    updateCartCount();
    refreshCartPopover();
  }
  
  // Event delegation for Increase & Decrease buttons
  document.addEventListener('click', function (event) {
    if (event.target.classList.contains('increase-cart')) {
        let itemId = event.target.getAttribute('data-id');
        updateCartQuantity(itemId, 'increase');
    }
  
    if (event.target.classList.contains('decrease-cart')) {
        let itemId = event.target.getAttribute('data-id');
        updateCartQuantity(itemId, 'decrease');
    }
  
    if (event.target.classList.contains('delete-item')) {
        let itemId = event.target.getAttribute('data-id');
        removeItemFromCart(itemId);
    }
  });
  
  // Update cart count
  function updateCartCount() {
    const cartCountElement = document.getElementById('cart');
    if (cartCountElement) {
        cartCountElement.textContent = getCartLength();
    }
  }
  
  // Refresh cart popover
  function refreshCartPopover() {
    const popoverElement = document.getElementById('popcart');
    if (popoverElement) {
        const popoverInstance = bootstrap.Popover.getInstance(popoverElement);
        if (popoverInstance) {
            popoverInstance.dispose();
        }
        new bootstrap.Popover(popoverElement, {
            content: renderCartPopover(),
            html: true,
            trigger: 'focus',
            sanitize: false
        });
    }
  }
  
  // Render cart popover
  function renderCartPopover() {
    const items = loadCart();
    let cartContent = `<div class="p-3" style="width: 300px; max-height: 400px; overflow-y: auto;">`;
    let totalPrice = getCartTotal();
  
    if (items.length > 0) {
        cartContent += `<ul class="list-unstyled">`;
        items.forEach(item => {
            cartContent += `
                <li class="d-flex justify-content-between align-items-center mb-2">
                    <div class="d-flex">
                        <img src="${item.image}" alt="${item.name}" class="w-14" style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px;">
                        <div class="ms-2">
                            <p class="mb-0">${item.name}</p>
                            <div class="d-flex align-items-center">
                                <button class="btn btn-sm btn-outline-danger decrease-cart" data-id="${item.id}">-</button>
                                <input id="cart-qty-${item.id}" type="text" value="${item.quantity}" class="form-control text-center mx-2 cart-quantity" style="width: 50px;" readonly>
                                <button class="btn btn-sm btn-outline-success increase-cart" data-id="${item.id}">+</button>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-sm delete-item" data-id="${item.id}" style="border: none; background: none;">
                        <i class="bi bi-trash text-danger" style="font-size: 1rem;"></i>
                    </button>
                </li>`;
        });
        cartContent += `</ul></div>`;
        cartContent += `
            <div class="p-3 border-top d-flex flex-column align-items-center" style="background: white; position: sticky; bottom: 0;">
                <div class="d-flex justify-content-between w-100">
                    <strong>Total:</strong>
                    <span>‚Çπ${totalPrice}</span>
                </div>
                <div class="mt-2 w-100 d-flex justify-content-between">
                    <a href="/checkout" class="btn btn-sm px-3" style="background-color: #28a745; border-color: #28a745; color: white;">Checkout</a>
                    <button id="closeCart" class="btn btn-sm px-3" style="background-color: #dc3545; border-color: #dc3545; color: white; margin-left: 10px;">
                        <i class="bi bi-x-circle-fill"></i>
                    </button>
                </div>
            </div>`;
    } else {
        cartContent = '<p class="text-center p-3">Your cart is empty!</p>';
    }
  
    return cartContent;
  }
  
  // Initialize cart popover
  document.getElementById('popcart').addEventListener('click', function () {
    const popoverElement = document.getElementById('popcart');
    const popoverInstance = new bootstrap.Popover(popoverElement, {
        content: renderCartPopover(),
        html: true,
        trigger: 'focus',
        sanitize: false
    });
    popoverInstance.show();
  });
  
  // Update cart count on page load
  document.addEventListener('DOMContentLoaded', updateCartCount);
  </script>
  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- Updated jQuery version -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
  

{% endblock %}
